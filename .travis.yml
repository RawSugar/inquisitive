language: ruby

rvm:
  - 1.9.3
  - 2.0.0
  - 2.1
  - 2.2
  - ruby-head
  - rbx-2
  - jruby

gemfile:
  - Gemfile
  - Gemfile.ActiveSupport

env:
  - ""
  - "activesupport=3.2.18"
  - "activesupport=4.1.1"
  - "activesupport=master"

matrix:
  fast_finish: true
  allow_failures:
    - rvm: 1.9.3
    - rvm: jruby # Until it gets up to 2.0.0 syntax
  exclude:
    - gemfile: Gemfile.ActiveSupport
      env: ""
    - gemfile: Gemfile
      env: "activesupport=3.2.18"
    - gemfile: Gemfile
      env: "activesupport=4.1.1"
    - gemfile: Gemfile
      env: "activesupport=master"

branches:
  except:
    - gh-pages

after_success:
  - coveralls
